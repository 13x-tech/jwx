// +build go1.16

// Automatically generated by internal/cmd/genreadfile/main.go. DO NOT EDIT

package jws

import "github.com/lestrrat-go/jwx/internal/fs"

// ReadFileOption describes an option that can be passed to `ReadFile`
type ReadFileOption = fs.OpenOption

// LocalFS is used to explicitly tell ReadFile to read from the
// local file system
type LocalFS = fs.Local

// WithFS creates an option that specifies where to load files from
// when `ReadFile()` is called. For example, you can specify an
// instance of `embed.FS` to load files from an embedded file
// system in a compiled binary.
func WithFS(v fs.FS) ReadFileOption {
	return fs.WithFS(v)
}

// ReadFile reads a JWK set at the specified location.
//
// For go >= 1.16 where io/fs is supported, you may pass `WithFS()` option
// to provide an alternate location to load the files from. This means
// you can embed your JWK in your compiled program and read it back from
// the embedded resource.
//
// By default files are read from the local file system by using `os.Open`
func ReadFile(path string, options ...ReadFileOption) (*Message, error) {
	f, err := fs.Open(path, options...)
	if err != nil {
		return nil, err
	}

	defer f.Close()
	return ParseReader(f)
}
